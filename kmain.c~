/***************************************************************************\
 *
 * 			kmain.c - The entry C code to the OS
 *
 \**************************************************************************/
#include "io.h"

/* Colors */
#define FB_GREEN 			2
#define FB_DARK_GREY			8

void fb_write_cell(unsigned int, char , unsigned char, unsigned char);
//Framebuffer (for displaying chracters on screen)
char *fb = (char *)0x000B8000;

int kmain(){

	fb_write_cell(0, 'A', FB_GREEN, FB_DARK_GREY);

	fb_move_cursor((unsigned int)4);
	fb_write_cell(0, 'Z', FB_GREEN, FB_DARK_GREY);
	return 0;
}


/** fb_write_cell:
 * Writes char given foreground and background to position i
 * in the frambuffer.
 *
 * @param i	The location in the gramebuffer
 * @param c 	The character
 * @param fg	The foreground color
 * @param bg	The background color
 */
void fb_write_cell(unsigned int i, char c , unsigned char fg, unsigned char bg){	
	fb[i] = c;
	fb[i+1] = ((fg & 0x0F) << 4) | (bg & 0x0F); 
}
